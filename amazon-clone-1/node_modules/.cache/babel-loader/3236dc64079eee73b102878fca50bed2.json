{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marco\\\\Desktop\\\\Amazon\\\\amazon-clone-1\\\\src\\\\components\\\\Purchase.js\",\n    _s = $RefreshSig$();\n\nimport { Select, Button, Modal, Input } from 'antd';\nimport { ShoppingCartOutlined } from \"@ant-design/icons\";\nimport { useState } from 'react';\nimport { useMoralis } from 'react-moralis';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\n\nfunction Purchase(_ref) {\n  _s();\n\n  let {\n    book\n  } = _ref;\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [delivery, setDelivery] = useState(\"\");\n  const {\n    Moralis,\n    account,\n    chainId\n  } = useMoralis();\n\n  const handleOk = async () => {\n    // Get The Price of MATIC\n    const options = {\n      address: \"0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0\",\n      chain: \"eth\"\n    };\n    const price = await Moralis.Web3API.token.getTokenPrice(options);\n    const priceMatic = book.price / price.usdPrice; // Send Matic to book store owenr address\n\n    const options1 = {\n      type: \"native\",\n      amount: Moralis.Units.ETH(priceMatic),\n      receiver: \"xxxxx\"\n    };\n    let result = await Moralis.transfer(options1); //Save Transaction Details to DB\n\n    const Transaction = Moralis.Object.extend(\"Transaction\");\n    const transaction = new Transaction();\n    transaction.set(\"Customer\", account);\n    transaction.set(\"Delivery\", delivery);\n    transaction.set(\"Product\", book.name);\n    transaction.save();\n    setIsModalVisible(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"price\",\n      children: [\" $\", book.price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No Import Fees & Free Shipping Included\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        color: \"green\"\n      },\n      children: \" In Stock \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Quantity\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Select, {\n      defaultValue: 1,\n      style: {\n        width: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Option, {\n        value: 1,\n        children: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Option, {\n        value: 2,\n        children: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Option, {\n        value: 3,\n        children: \"3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Option, {\n        value: 4,\n        children: \"4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Option, {\n        value: 5,\n        children: \"5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), chainId === \"0x13881\" && /*#__PURE__*/_jsxDEV(Button, {\n      className: \"login\",\n      style: {\n        width: \"100%\",\n        marginTop: \"50px\"\n      },\n      onClick: () => setIsModalVisible(true),\n      children: [/*#__PURE__*/_jsxDEV(ShoppingCartOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this), \" Buy Now\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Purchase Product\",\n      visible: isModalVisible,\n      onOk: handleOk,\n      onCancel: () => setIsModalVisible(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: book.image,\n          alt: \"product\",\n          style: {\n            width: \"200px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: book.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"$\", book.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Delivery Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            onChange: value => setDelivery(value.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Purchase, \"ZpcP6K2Zamp8SreTUMOWt7RsQZ8=\", false, function () {\n  return [useMoralis];\n});\n\n_c = Purchase;\nexport default Purchase;\n\nvar _c;\n\n$RefreshReg$(_c, \"Purchase\");","map":{"version":3,"sources":["C:/Users/marco/Desktop/Amazon/amazon-clone-1/src/components/Purchase.js"],"names":["Select","Button","Modal","Input","ShoppingCartOutlined","useState","useMoralis","Option","Purchase","book","isModalVisible","setIsModalVisible","delivery","setDelivery","Moralis","account","chainId","handleOk","options","address","chain","price","Web3API","token","getTokenPrice","priceMatic","usdPrice","options1","type","amount","Units","ETH","receiver","result","transfer","Transaction","Object","extend","transaction","set","name","save","color","width","marginTop","display","image","value","target"],"mappings":"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","sourcesContent":["import {Select, Button, Modal, Input} from 'antd'\nimport {ShoppingCartOutlined} from \"@ant-design/icons\";\nimport { useState } from 'react';\nimport { useMoralis } from 'react-moralis';\n\nconst {Option} = Select;\nfunction Purchase({book}) {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [delivery, setDelivery] = useState(\"\");\n  const {Moralis, account, chainId} = useMoralis();\n\n  const handleOk = async () => {\n\n    // Get The Price of MATIC\n\n    const options = {\n      address: \"0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0\",\n      chain: \"eth\"\n    };\n    const price = await Moralis.Web3API.token.getTokenPrice(options);\n    const priceMatic = book.price / price.usdPrice;\n    \n    // Send Matic to book store owenr address\n\n    const options1 = {\n      type: \"native\", \n      amount: Moralis.Units.ETH(priceMatic), \n      receiver: \"xxxxx\"\n    }\n    let result = await Moralis.transfer(options1)\n\n\n    //Save Transaction Details to DB\n    const Transaction = Moralis.Object.extend(\"Transaction\");\n    const transaction = new Transaction();\n\n    transaction.set(\"Customer\", account);\n    transaction.set(\"Delivery\", delivery);\n    transaction.set(\"Product\", book.name);\n\n    transaction.save()\n    setIsModalVisible(false);\n  }\n\n  return (\n    <>\n      <span className=\"price\"> ${book.price}</span>\n      <p>No Import Fees & Free Shipping Included</p>\n      <h1 style={{ color: \"green\" }}> In Stock </h1>\n      <h3>Quantity</h3>\n      <Select defaultValue={1} style={{ width: \"100%\" }}>\n        <Option value={1}>1</Option>\n        <Option value={2}>2</Option>\n        <Option value={3}>3</Option>\n        <Option value={4}>4</Option>\n        <Option value={5}>5</Option>\n      </Select>\n      {chainId === \"0x13881\" &&\n      <Button\n      className=\"login\"\n      style={{ width: \"100%\", marginTop: \"50px\" }}\n      onClick={()=>setIsModalVisible(true)}\n    >\n      <ShoppingCartOutlined /> Buy Now\n    </Button>\n      }\n      \n      <Modal\n        title=\"Purchase Product\"\n        visible={isModalVisible}\n        onOk={handleOk}\n        onCancel={()=>setIsModalVisible(false)}\n      >\n        <div style={{ display: \"flex\" }}>\n          <img src={book.image} alt=\"product\" style={{ width: \"200px\" }}></img>\n          <div>\n            <h3>{book.name}</h3>\n            <h2>${book.price}</h2>\n            <h4>Delivery Address</h4>\n            <Input onChange={(value) => setDelivery(value.target.value)}></Input>\n          </div>\n        </div>\n      </Modal>\n    </>\n  )\n}\n\nexport default Purchase\n"]},"metadata":{},"sourceType":"module"}